$(document).ready(function(){$(".cr-material.with.counter").children().eq(1).each(function(a,t){if($(t).next().is("span"))$(t).next().text($(t).val().length+"/"+$(t).next().attr("maximum"));else{var e=$("<span></span>");e.attr("maximum","120"),e.text($(t).val().length+"/"+e.attr("maximum")),$(t).after(e)}}),$(".m-input, .m-area").focus(function(){if($(this).parent().addClass("is-focused has-label"),null!=$(this).parent().find("span.m-counter")){var a=$(this).parent(),t=$(this),e=a.find("span.m-counter");if(null!=e){var n=t.val().length;maxVal=e.attr("max-value"),null!=maxVal&&e.attr("max-value",n+"/"+maxVal.replace(/['"]+/g,""))}}}),$(".with.counter > .m-input, .m-area").on("input",function(a){var t=$(this).next();if($(this).parent().hasClass("words")){if(0!=t.attr("maximum").length){var e=$(this).val().split(" ").filter(function(a){return""!==a});t.text(e.length+"/"+t.attr("maximum"))}n=t.text().split("/")[0];parseInt(n)>parseInt(t.attr("maximum"))?t.addClass("count-overflow"):t.hasClass("count-overflow")&&t.removeClass("count-overflow")}else{0!=t.attr("maximum").length&&t.text($(this).val().split("").length+"/"+t.attr("maximum"));var n=t.text().split("/")[0];parseInt(n)>parseInt(t.attr("maximum"))?t.addClass("count-overflow"):t.hasClass("count-overflow")&&t.removeClass("count-overflow")}}),$(".m-input, .m-area").blur(function(){var a=$(this).parent(),t=($(this),a.find("span.m-counter"));null!=t&&t.attr("max-value",maxVal)}),$(".m-input, .m-area").blur(function(){var a=$(this).parent();""==$(this).val()&&a.removeClass("has-label"),a.removeClass("is-focused")}),0<$(".m-input, .m-area").val().trim().length&&$(".m-input, .m-area").parent().addClass("is-focused has-label")});